// Test: JSON Typed Parsing with nested classes

Address {
    street: String
    city: String
    zip: String
}

User {
    id: u32
    name: String
    address: Address    // Nested class
}

main() {
    print($"=== JSON Nested Classes Test ===")
    
    let userJson = "{\"id\": 1, \"name\": \"Alice\", \"address\": {\"street\": \"123 Main St\", \"city\": \"Boston\", \"zip\": \"02101\"}}"
    let user: User, err = JSON.parse(userJson)
    
    if err == "" {
        print($"✅ Parsed successfully!")
        print($"User: {user.name} (ID: {user.id})")
        print($"Address: {user.address.street}, {user.address.city} {user.address.zip}")
    } else {
        print($"❌ Error: {err}")
    }
    
    print($"✓ Test complete!")
}
