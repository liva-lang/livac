Post {
  id: u64
  title: String
}

main() {
  console.log("Fetching posts from API...")
  let res, err = async HTTP.get("https://jsonplaceholder.typicode.com/posts?_limit=5")
  
  if err != "" {
    console.log($"❌ HTTP Error: {err}")
  } else {
    console.log($"✓ HTTP Status: {res.status}")
    console.log($"✓ Response body length: {res.body.len()} bytes")
    
    let posts: [Post], parseErr = JSON.parse(res.body)
    
    if parseErr != "" {
      console.log($"❌ Parse error: {parseErr}")
    } else {
      console.log($"✓ Successfully parsed {posts.len()} posts!")
      console.log($"✓ Type: Vec<Post> with direct field access")
    }
  }
}
